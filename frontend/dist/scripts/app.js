const giffy_apikey="wWx92OcSBAFLsLr3fE3paSblOf2i39yn",emoji_apikey="ddfde9339e25e1592e20e3e8fdc393f6d6388a5e",gifurl="api.giphy.com/v1/gifs/search",stickerurl="api.giphy.com/v1/stickers/search",trendingGifsUrl="api.giphy.com/v1/gifs/trending",trendingStickersUrl="api.giphy.com/v1/stickers/trending",form=document.getElementById("messageForm"),currentViewContainer=document.querySelector(".current-view-container"),mediaSearch=document.getElementById("mediaSearch"),chatInteractionsMenu=document.getElementById("chatInteractionsMenu"),menuTogglers=document.querySelectorAll(".menu-toggler"),gifTogglers=document.querySelectorAll(".gif-toggler"),stickerTogglers=document.querySelectorAll(".sticker-toggler"),emojiTogglers=document.querySelectorAll(".emoji-toggler");async function getTrendingGifs(){const e=await fetch(`https://${trendingGifsUrl}?api_key=${giffy_apikey}&limit=15`);[...(await e.json()).data.map((e=>e.images.downsized.url))].forEach((e=>{let t=document.createElement("img");t.src=`${e}.gif`,currentViewContainer.appendChild(t)}))}async function getGif(e){const t=await fetch(`https://${gifurl}?api_key=${giffy_apikey}&q=${e}&limit=15`);[...(await t.json()).data.map((e=>e.images.downsized.url))].forEach((e=>{let t=document.createElement("img");t.src=`${e}.gif`,currentViewContainer.appendChild(t)}))}async function getTrendingStickers(){const e=await fetch(`https://${trendingStickersUrl}?api_key=${giffy_apikey}&limit=15`);[...(await e.json()).data.map((e=>e.images.downsized.url))].forEach((e=>{let t=document.createElement("img");t.src=`${e}.gif`,currentViewContainer.appendChild(t)}))}async function getSticker(e){const t=await fetch(`https://${stickerurl}?api_key=${giffy_apikey}&q=${e}&limit=15`);[...(await t.json()).data.map((e=>e.images.downsized.url))].forEach((e=>{let t=document.createElement("img");t.src=`${e}.gif`,currentViewContainer.appendChild(t)}))}async function getEmoji(){const e=await fetch(`https://emoji-api.com/emojis?access_key=${emoji_apikey}`),t=await e.json();currentViewContainer.innerHTML="";for(let e=0;e<150;e++)currentViewContainer.innerHTML+=`<span class="emoji">${t[e].character}</span>`}function handleActiveBtnClass(){menuTogglers.forEach((e=>{e.classList.remove("active")}))}function toggleChatInteractionsMenu(){mediaSearch.value="",currentViewContainer.innerHTML="",chatInteractionsMenu.classList.add("active")}getEmoji(),menuTogglers.forEach((e=>{e.addEventListener("click",(()=>{toggleChatInteractionsMenu()}))})),gifTogglers.forEach((e=>{e.addEventListener("click",(()=>{getTrendingGifs(),handleActiveBtnClass(),mediaSearch.setAttribute("data-media-type","gif"),mediaSearch.placeholder="Search GIFs...",gifTogglers[1].classList.add("active"),currentViewContainer.classList="current-view-container gif-view"}))})),stickerTogglers.forEach((e=>{e.addEventListener("click",(()=>{getTrendingStickers(),handleActiveBtnClass(),mediaSearch.setAttribute("data-media-type","sticker"),mediaSearch.placeholder="Search Stickers...",stickerTogglers[1].classList.add("active"),currentViewContainer.classList="current-view-container sticker-view"}))})),emojiTogglers.forEach((e=>{e.addEventListener("click",(()=>{for(let e=0;e<100;e++)currentViewContainer.innerHTML+='<span class="filler"></span>';handleActiveBtnClass(),getEmoji(),mediaSearch.setAttribute("data-media-type","emoji"),mediaSearch.placeholder="Search Emojis...",emojiTogglers[1].classList.add("active"),currentViewContainer.classList="current-view-container emoji-view"}))})),form.addEventListener("submit",(e=>{e.preventDefault()})),mediaSearch.addEventListener("keyup",(e=>{currentViewContainer.innerHTML="";let t=mediaSearch.getAttribute("data-media-type");"gif"===t?getGif(mediaSearch.value):"sticker"===t&&getSticker(mediaSearch.value)}));